<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="data:;base64,="><title> Basic Snake</title><style>:root{--main-bg-color:#171717;--canvas-bg-color:#2f2f2f;--app-green:limegreen}html{height:100%;background-color:var(--main-bg-color);color:#eee;font-family:system-ui;font-size:18px}body{display:flex;flex-direction:column;align-items:center}h1,h2,h3{margin:5px 0}.info-display{background-color:var(--canvas-bg-color);margin:20px 0;padding:8px;display:flex;align-items:center;width:480px;justify-content:space-around}.game-info{flex-direction:column;align-items:unset;font-size:14px}#mainCanvasWrapper{width:auto;height:auto;background-color:var(--canvas-bg-color)}#playButton{background-color:inherit;border:1px solid var(--app-green);color:var(--app-green);cursor:pointer;outline:none !important;font-size:16px}.score-display{color:var(--app-green);display:inline-block;min-width:30px}.arrows{display:flex;flex-direction:column;align-items:center}.arrow{font-size:24px;cursor:pointer;padding:2px;margin:5px 8px;display:inline-block}.game-header{display:flex;align-items:center;justify-content:space-between}</style></head><body><div class="info-display game-info"><div class="game-header"><h1><u>Snake</u></h1><h3>Game Information</h3></div><div>- Start the game via the Play button or by hiting Enter on your keyboard.</div><div>- Change direction via your keyboard's arrow keys or the arrows on the bottom right.</div><div>- The snake can't reverse direction without turning. He's not coordinated!</div></div><div id="mainCanvasWrapper"> <canvas id="mainCanvas" width="500" height="500"></canvas></div><div class="info-display"> <button id="playButton" onclick="setup()">Play</button><h4>Curent Score: <span class="score-display" id="currentScore">0</span></h4><h4>High Score: <span class="score-display" id="highScore">0</span></h4><div class="arrows"><div class="top"><span></span><span onclick="addDirection(directions.up)" class="arrow">&#8593;</span><span></span></div><div class="middle"><span onclick="addDirection(directions.left)" class="arrow">&#8592;</span><span></span><span onclick="addDirection(directions.right)" class="arrow">&#8594;</span></div><div class="bottom"><span></span><span onclick="addDirection(directions.down)" class="arrow">&#8595;</span><span></span></div></div></div> <script>const mainCanvas=document.getElementById("mainCanvas");const mainCanvasContext=mainCanvas.getContext("2d");const gameOverColor="red";const pieceLength=15;const pointsPerFood=10;const canvasColor="#2f2f2f";const foodColor="#c614d0";const directions={up:"up",right:"right",down:"down",left:"left"};let snakeColor;let currentFood;let direction;let skipNextPopCycle;let snake;let gameOver;let directionQueue;let currentScore;let highScore=0;document.onkeydown=function(e){switch(e.keyCode){case 13:setup();break;case 37:addDirection(directions.left);break;case 38:addDirection(directions.up);break;case 39:addDirection(directions.right);break;case 40:addDirection(directions.down);break;}};function reset(){snakeColor="#0ba99f";currentFood=undefined;snake=[{x:240,y:240}];gameOver=false;directionQueue=[];direction=directions.down;skipNextPopCycle=false;currentScore=0;updateCurrentScore(currentScore);} function setup(){reset();tick();} function tick(){!gameOver?setTimeout(play,60):"";} function play(){moveSnake();clear();if(!gameOver){checkDirection();checkFood();} drawSnake();if(gameOver&&currentScore>highScore){updateHighScore(currentScore);} tick();} function updateHighScore(score){highScore=score;document.getElementById("highScore").innerText=highScore;} function updateCurrentScore(score){currentScore=score;document.getElementById("currentScore").innerText=currentScore;} function isGameOver(snakeHead){if(isPieceOffBoard(snakeHead)){console.log(`Lost from hitting the board's edge. Snake's head position:${Object.values(snakeHead)}`);snakeColor=gameOverColor;return true;}else if(doesPieceOverlapWithSnake(snakeHead,false)){console.log(`Lost from the snake's head hitting a tail piece. Snake's head position:${Object.values(snakeHead)}`);snakeColor=gameOverColor;return true;}else{return false;}} function isPieceOffBoard(piece){let offBoard=piece.x<0||(piece.x+pieceLength)>mainCanvas.width;offBoard=offBoard||(piece.y<0||(piece.y+pieceLength)>mainCanvas.height);return offBoard;} function checkFood(){if(currentFood&&doPiecesOverlap(snake[0],currentFood)){consumeFood();} if(!currentFood){currentFood=buildFood();} drawFood();} function consumeFood(){if(currentFood){currentFood=undefined;updateCurrentScore(currentScore+pointsPerFood);skipNextPopCycle=true;}} function drawFood(){mainCanvasContext.fillStyle=foodColor;drawPiece(currentFood);} function buildFood(){let food;let doesOverlap=true;while(doesOverlap){food=getRandomPiece();doesOverlap=doesPieceOverlapWithSnake(food,true);} return food;} function doesPieceOverlapWithSnake(piece,checkHead){let pieceXEnd=piece.x+pieceLength;let pieceYEnd=piece.y+pieceLength;let doesOverlap=false;snake.find((snakePiece,index)=>{if(checkHead||index!==0){doesOverlap=doesOverlap||doPiecesOverlap(piece,snakePiece);return doesOverlap;}else{return false;}});return doesOverlap;} function getRandomPiece(){return{x:getRandomCoordinate(),y:getRandomCoordinate()};} function getRandomCoordinate(){let canvasSide=mainCanvas.height;let maxValue=Math.floor(canvasSide/pieceLength);let randomInteger=Math.floor(Math.random()*(maxValue-1)+1);return randomInteger*pieceLength;} function doPiecesOverlap(a,b){let isNoOverlap=(a.x>=(b.x+pieceLength)||a.y>=(b.y+pieceLength)||(a.x+pieceLength)<=b.x||(a.y+pieceLength)<=b.y);return!isNoOverlap;} function clear(){mainCanvasContext.fillStyle=canvasColor;mainCanvasContext.fillRect(0,0,mainCanvas.width,mainCanvas.height);} function moveSnake(){let newSnakeHead=Object.assign({},snake[0]);let axis=isDirectionOnXAxis(direction)?"x":"y";let isNegative=isNegativeDirection(direction);let newAxisValue=isNegative?-pieceLength:pieceLength;newSnakeHead[axis]=newSnakeHead[axis]+newAxisValue;if(isGameOver(newSnakeHead)){gameOver=true;}else{snake.unshift(newSnakeHead);!skipNextPopCycle?snake.pop():skipNextPopCycle=false;}} function setDirection(newDirection){direction=newDirection;} function checkDirection(){if(directionQueue.length>0){let potentialDirection=directionQueue.shift();switch(potentialDirection){case directions.left:direction!==directions.right?setDirection(potentialDirection):"";break;case directions.up:direction!==directions.down?setDirection(potentialDirection):"";break;case directions.right:direction!==directions.left?setDirection(potentialDirection):"";break;case directions.down:direction!==directions.up?setDirection(potentialDirection):"";break;}}} function addDirection(direction){directionQueue.push(direction);} function isDirectionOnXAxis(directionParam){return directionParam===directions.left||directionParam===directions.right;} function isNegativeDirection(directionParam){return directionParam===directions.left||directionParam===directions.up;} function drawSnake(){mainCanvasContext.fillStyle=snakeColor;snake.map((snakePiece,index)=>drawPiece(snakePiece));} function drawPiece(snakePiece){mainCanvasContext.fillRect(snakePiece.x,snakePiece.y,pieceLength,pieceLength);}</script> </body></html>